---
import DashboardLayout from '../layouts/DashboardLayout.astro';
import CardStat from '../components/CardStat.astro';
import Table from '../components/Table.astro';
import ChartPlaceholder from '../components/ChartPlaceholder.astro';
import Sidebar from "../components/Sidebar.astro";
import '../styles/dashboard.css';

const stats = [
  { title: 'Certificados Emitidos', value: '420', subtitle: 'Ãšltimos 30 dÃ­as', icon: 'ðŸ“„' },
  { title: 'Nuevos Estudiantes', value: '85', subtitle: 'Ãšltimos 30 dÃ­as', icon: 'ðŸŽ“' },
  { title: 'Cursos Completados', value: '112', subtitle: 'Actualizado ahora', icon: 'âœ…' },
  { title: 'Tasa de AprobaciÃ³n', value: '92%', subtitle: 'Ãšltimo trimestre', icon: 'ðŸ“ˆ' }
];

const tableColumns = ['Estudiante', 'Curso', 'Fecha de EmisiÃ³n', 'Estado', 'CÃ³digo'];
const tableData = [
  { estudiante: 'Ana LÃ³pez', curso: 'Python BÃ¡sico', fecha: '2025-05-10', estado: 'Emitido', codigo: 'CERT-00123' },
  { estudiante: 'Carlos Ruiz', curso: 'Excel Avanzado', fecha: '2025-05-12', estado: 'Pendiente', codigo: 'CERT-00124' },
  { estudiante: 'MarÃ­a Torres', curso: 'UX/UI Design', fecha: '2025-05-15', estado: 'Emitido', codigo: 'CERT-00125' },
];

---

<DashboardLayout>
  <Sidebar slot="sidebar" />
  
  <section class="stats-grid" aria-label="EstadÃ­sticas generales">
    {stats.map(stat => (
      <CardStat title={stat.title} value={stat.value} subtitle={stat.subtitle} icon={stat.icon} />
    ))}
  </section>

  <section class="charts-section" aria-label="GrÃ¡ficos del dashboard">
    <div class="charts-grid">
      <ChartPlaceholder title="Certificados emitidos por mes" type="line" />
      <ChartPlaceholder title="DistribuciÃ³n por curso" type="pie" />
      <ChartPlaceholder title="Tasa de aprobaciÃ³n trimestral" type="bar" />
    </div>
  </section>

  <section class="data-section" aria-label="Datos de cursos">
    <h2>Resumen de certificados por curso</h2>
    <Table columns={tableColumns} data={tableData} />
  </section>
</DashboardLayout>