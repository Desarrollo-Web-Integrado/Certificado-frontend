---
import DashboardLayout from '../layouts/DashboardLayout.astro';
import Sidebar from "../components/Sidebar.astro";
import '../styles/dashboard.css';
---

<DashboardLayout>
  <Sidebar slot="sidebar" activeSection="documentacion" />

  <main class="dashboard-main flex flex-col lg:flex-row-reverse gap-10 px-6 py-10 bg-gray-50 min-h-screen">
    <!-- Índice lateral minimalista -->
    <aside class="hidden lg:block w-72 bg-white shadow-sm rounded-xl p-6 sticky top-24 h-fit border border-gray-200">
      <h2 class="text-lg font-medium text-gray-900 mb-4">Guía Rápida</h2>
      <nav aria-label="Navegación rápida de documentación">
        <ul class="space-y-3">
          <li>
            <a href="#registro" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 text-gray-700 transition-colors">
              <span class="text-gray-500">1</span>
              <span>Registrar usuarios</span>
            </a>
          </li>
          <li>
            <a href="#certificados" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 text-gray-700 transition-colors">
              <span class="text-gray-500">2</span>
              <span>Generar certificados</span>
            </a>
          </li>
          <li>
            <a href="#estadisticas" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 text-gray-700 transition-colors">
              <span class="text-gray-500">3</span>
              <span>Ver estadísticas</span>
            </a>
          </li>
          <li>
            <a href="#roles" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 text-gray-700 transition-colors">
              <span class="text-gray-500">4</span>
              <span>Roles y permisos</span>
            </a>
          </li>
          <li>
            <a href="#faq" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 text-gray-700 transition-colors">
              <span class="text-gray-500">5</span>
              <span>Preguntas frecuentes</span>
            </a>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- Contenido principal minimalista -->
    <section class="flex-1 space-y-16 bg-white p-8 md:p-10 rounded-xl shadow-sm border border-gray-200">
      <header class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-3 leading-tight">
          Documentación del Sistema
        </h1>
        <p class="text-gray-600">
          Guía completa para el uso de la plataforma de certificados digitales
        </p>
      </header>

      <!-- Sección de Registro -->
      <section id="registro" class="scroll-mt-16">
        <div class="flex items-center gap-3 mb-6">
          <div class="bg-gray-100 p-2 rounded-full w-10 h-10 flex items-center justify-center">
            <span class="text-gray-700">1</span>
          </div>
          <h2 class="text-xl font-semibold text-gray-900">Registro de usuarios</h2>
        </div>
        
        <div class="space-y-4">
          <p class="text-gray-700">
            Para registrar nuevos usuarios en el sistema, sigue estos pasos:
          </p>
          
          <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
            <h3 class="font-medium text-gray-900 mb-3">Pasos para el registro:</h3>
            <ol class="list-decimal list-inside space-y-2 text-gray-700">
              <li>Accede a la sección <strong>Usuario</strong> en el menú principal</li>
              <li>Haz clic en el botón <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded-md text-sm font-mono">+ Nuevo Usuario</span></li>
              <li>Completa el formulario con los datos requeridos</li>
              <li>Haz clic en <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded-md text-sm font-mono">Guardar</span></li>
            </ol>
          </div>
          
          <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
            <h4 class="font-medium text-gray-900 mb-2">Campos obligatorios:</h4>
            <ul class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
              <li class="flex items-center gap-2 text-gray-700">
                <span class="bg-white p-1 rounded-full w-5 h-5 flex items-center justify-center text-xs border border-gray-300">1</span>
                Nombre completo
              </li>
              <li class="flex items-center gap-2 text-gray-700">
                <span class="bg-white p-1 rounded-full w-5 h-5 flex items-center justify-center text-xs border border-gray-300">2</span>
                Email institucional
              </li>
              <li class="flex items-center gap-2 text-gray-700">
                <span class="bg-white p-1 rounded-full w-5 h-5 flex items-center justify-center text-xs border border-gray-300">3</span>
                Rol (Administrador/Usuario)
              </li>
              <li class="flex items-center gap-2 text-gray-700">
                <span class="bg-white p-1 rounded-full w-5 h-5 flex items-center justify-center text-xs border border-gray-300">4</span>
                Contraseña temporal
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Sección de Certificados -->
      <section id="certificados" class="scroll-mt-16">
        <div class="flex items-center gap-3 mb-6">
          <div class="bg-gray-100 p-2 rounded-full w-10 h-10 flex items-center justify-center">
            <span class="text-gray-700">2</span>
          </div>
          <h2 class="text-xl font-semibold text-gray-900">Generación de certificados</h2>
        </div>
        
        <p class="text-gray-700 mb-6">
          Desde la pestaña <strong>Certificados</strong> puedes emitir nuevos documentos digitales con validez institucional.
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="p-5 bg-white border border-gray-200 rounded-lg shadow-xs">
            <h3 class="font-medium text-gray-900 mb-2">1. Seleccionar Usuario</h3>
            <p class="text-sm text-gray-600">
              Busca en el directorio y elige al usuario destinatario del certificado.
            </p>
          </div>
          
          <div class="p-5 bg-white border border-gray-200 rounded-lg shadow-xs">
            <h3 class="font-medium text-gray-900 mb-2">2. Definir Datos</h3>
            <p class="text-sm text-gray-600">
              Selecciona tipo de certificado, fecha de emisión y observaciones relevantes.
            </p>
          </div>
          
          <div class="p-5 bg-white border border-gray-200 rounded-lg shadow-xs">
            <h3 class="font-medium text-gray-900 mb-2">3. Emitir Certificado</h3>
            <p class="text-sm text-gray-600">
              Haz clic en "Generar" para crear el documento y enviarlo automáticamente.
            </p>
          </div>
        </div>
      </section>

      <!-- Sección de Estadísticas -->
      <section id="estadisticas" class="scroll-mt-16">
        <div class="flex items-center gap-3 mb-6">
          <div class="bg-gray-100 p-2 rounded-full w-10 h-10 flex items-center justify-center">
            <span class="text-gray-700">3</span>
          </div>
          <h2 class="text-xl font-semibold text-gray-900">Visualización de estadísticas</h2>
        </div>
        
        <p class="text-gray-700 mb-6">
          El dashboard principal ofrece un resumen visual completo de la actividad del sistema.
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-white border border-gray-200 rounded-lg p-5">
            <h3 class="font-medium text-gray-900 mb-3">Métricas principales</h3>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-center gap-2">
                <span class="text-gray-500">•</span>
                Total de usuarios registrados
              </li>
              <li class="flex items-center gap-2">
                <span class="text-gray-500">•</span>
                Certificados emitidos por mes
              </li>
              <li class="flex items-center gap-2">
                <span class="text-gray-500">•</span>
                Distribución de usuarios activos/inactivos
              </li>
            </ul>
          </div>
          
          <div class="bg-white border border-gray-200 rounded-lg p-5">
            <h3 class="font-medium text-gray-900 mb-3">Filtros disponibles</h3>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-center gap-2">
                <span class="text-gray-500">•</span>
                Por rango de fechas
              </li>
              <li class="flex items-center gap-2">
                <span class="text-gray-500">•</span>
                Por tipo de certificado
              </li>
              <li class="flex items-center gap-2">
                <span class="text-gray-500">•</span>
                Por departamento/área
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Sección de Roles -->
      <section id="roles" class="scroll-mt-16">
        <div class="flex items-center gap-3 mb-6">
          <div class="bg-gray-100 p-2 rounded-full w-10 h-10 flex items-center justify-center">
            <span class="text-gray-700">4</span>
          </div>
          <h2 class="text-xl font-semibold text-gray-900">Roles y permisos</h2>
        </div>
        
        <p class="text-gray-700 mb-6">
          El sistema cuenta con dos tipos de roles principales, cada uno con capacidades específicas:
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-white border border-gray-200 rounded-lg p-5">
            <h3 class="font-medium text-gray-900 mb-3">Administrador</h3>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start gap-2">
                <span class="text-gray-500 mt-0.5">•</span>
                <span>Gestión completa del sistema (usuarios, certificados, configuración)</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-gray-500 mt-0.5">•</span>
                <span>Acceso a todas las estadísticas y reportes</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-gray-500 mt-0.5">•</span>
                <span>Emisión, edición y eliminación de certificados</span>
              </li>
            </ul>
          </div>
          
          <div class="bg-white border border-gray-200 rounded-lg p-5">
            <h3 class="font-medium text-gray-900 mb-3">Usuario</h3>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start gap-2">
                <span class="text-gray-500 mt-0.5">•</span>
                <span>Visualización de sus propios certificados</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-gray-500 mt-0.5">•</span>
                <span>Descarga de certificados en formato PDF</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-gray-500 mt-0.5">•</span>
                <span>Acceso limitado a las estadísticas</span>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Sección de FAQ -->
      <section id="faq" class="scroll-mt-16">
        <div class="flex items-center gap-3 mb-6">
          <div class="bg-gray-100 p-2 rounded-full w-10 h-10 flex items-center justify-center">
            <span class="text-gray-700">5</span>
          </div>
          <h2 class="text-xl font-semibold text-gray-900">Preguntas Frecuentes</h2>
        </div>
        
        <div class="space-y-4">
          <details class="group bg-white border border-gray-200 rounded-lg overflow-hidden">
            <summary class="flex items-center justify-between p-5 cursor-pointer list-none">
              <h3 class="font-medium text-gray-900">
                ¿Puedo modificar un certificado una vez creado?
              </h3>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 transform group-open:rotate-180 transition-transform" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
              </svg>
            </summary>
            <div class="px-5 pb-5 pt-0 text-gray-700">
              <p>No es posible modificar un certificado después de haber sido emitido. Esto garantiza la integridad de los documentos.</p>
            </div>
          </details>
          
          <details class="group bg-white border border-gray-200 rounded-lg overflow-hidden">
            <summary class="flex items-center justify-between p-5 cursor-pointer list-none">
              <h3 class="font-medium text-gray-900">
                ¿Se notifica al usuario cuando se le emite un certificado?
              </h3>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 transform group-open:rotate-180 transition-transform" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
              </svg>
            </summary>
            <div class="px-5 pb-5 pt-0 text-gray-700">
              <p>Sí, el sistema envía automáticamente un correo electrónico al usuario con un enlace para descargar el certificado.</p>
            </div>
          </details>
          
          <details class="group bg-white border border-gray-200 rounded-lg overflow-hidden">
            <summary class="flex items-center justify-between p-5 cursor-pointer list-none">
              <h3 class="font-medium text-gray-900">
                ¿Los certificados tienen vencimiento?
              </h3>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 transform group-open:rotate-180 transition-transform" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
              </svg>
            </summary>
            <div class="px-5 pb-5 pt-0 text-gray-700">
              <p>Algunos tipos de certificados tienen fecha de vencimiento configurable al momento de generarlos.</p>
            </div>
          </details>
        </div>
      </section>
    </section>
  </main>
</DashboardLayout>