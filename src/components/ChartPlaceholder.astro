---
import '../styles/charts.css';

export interface Props {
  title: string;
  type?: 'line' | 'bar' | 'pie' | 'doughnut';
}

const { title, type = 'line' } = Astro.props;
---

<div class="chart-container">
  <h3>{title}</h3>
  <div class={`chart ${type}`}>
    <!-- Placeholder SVG que simula un grÃ¡fico -->
    <svg viewBox="0 0 400 250" class="chart-svg">
      {type === 'line' && (
        <>
          <path d="M20,200 Q80,100 140,150 T260,50 T380,100" class="chart-line" />
          <circle cx="20" cy="200" r="4" class="chart-point" />
          <circle cx="140" cy="150" r="4" class="chart-point" />
          <circle cx="260" cy="50" r="4" class="chart-point" />
          <circle cx="380" cy="100" r="4" class="chart-point" />
        </>
      )}
      {type === 'bar' && (
        <>
          <rect x="40" y="150" width="60" height="100" class="chart-bar" />
          <rect x="120" y="100" width="60" height="150" class="chart-bar" />
          <rect x="200" y="50" width="60" height="200" class="chart-bar" />
          <rect x="280" y="120" width="60" height="130" class="chart-bar" />
        </>
      )}
      {type === 'pie' && (
        <>
          <path d="M200,100 L200,0 A100,100 0 0,1 300,100 Z" class="chart-slice-1" />
          <path d="M200,100 L300,100 A100,100 0 0,1 200,200 Z" class="chart-slice-2" />
          <path d="M200,100 L200,200 A100,100 0 0,1 100,100 Z" class="chart-slice-3" />
          <path d="M200,100 L100,100 A100,100 0 0,1 200,0 Z" class="chart-slice-4" />
        </>
      )}
      {type === 'doughnut' && (
        <>
          <circle cx="200" cy="100" r="80" fill="transparent" stroke-width="40" stroke-dasharray="60 140" class="chart-arc-1" />
          <circle cx="200" cy="100" r="80" fill="transparent" stroke-width="40" stroke-dasharray="40 160" stroke-dashoffset="-60" class="chart-arc-2" />
          <circle cx="200" cy="100" r="80" fill="transparent" stroke-width="40" stroke-dasharray="80 120" stroke-dashoffset="-100" class="chart-arc-3" />
        </>
      )}
      <line x1="20" y1="200" x2="380" y2="200" class="chart-axis" />
      <line x1="20" y1="200" x2="20" y2="20" class="chart-axis" />
    </svg>
  </div>
  <div class="chart-legend">
    {type === 'line' && (
      <>
        <span class="legend-item"><span class="color-dot primary"></span> Ventas</span>
        <span class="legend-item"><span class="color-dot secondary"></span> Meta</span>
      </>
    )}
    {type === 'bar' && (
      <>
        <span class="legend-item"><span class="color-dot primary"></span> Q1</span>
        <span class="legend-item"><span class="color-dot secondary"></span> Q2</span>
        <span class="legend-item"><span class="color-dot tertiary"></span> Q3</span>
        <span class="legend-item"><span class="color-dot quaternary"></span> Q4</span>
      </>
    )}
  </div>
</div>